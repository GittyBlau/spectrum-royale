<view:DemoPane xmlns:fx="http://ns.adobe.com/mxml/2009"
  xmlns:view="view.*" xmlns:sp="library://ns.unhurdle.com/spectrum"
  xmlns="library://ns.apache.org/royale/html" xmlns:comp="view.components.*"
  initComplete="initCompleteHandler(event)"
  title="Color Area">
  <fx:Script>
    <![CDATA[
      [Bindable] public var colorPicker:String = 
        '<sp:ColorPicker dataProvider="{dp}" selectedIndex="0"/>';
    ]]>
  </fx:Script>
  <fx:Script>
    <![CDATA[
      import org.apache.royale.events.Event;
      import com.unhurdle.spectrum.colorpicker.ColorWithAlphaModel;
      import com.unhurdle.spectrum.colorpicker.ArrayColorSelectionWithAlphaModel;

      private function initCompleteHandler(e:Event):void
      {
        var dp:Array = [];
				for (var i:int = 0; i < 30; i++)
				{
					var color:uint = uint(Math.random() * 0xFFFFFF);
          var alpha:Number = Math.random();
          var colorModel:ColorWithAlphaModel = new ColorWithAlphaModel();
          colorModel.color = color;
          colorModel.alpha = alpha;
					dp.push(colorModel);
				}
        (myColorPicker.model as ArrayColorSelectionWithAlphaModel).dataProvider = dp;
        (myColorPicker.model as ArrayColorSelectionWithAlphaModel).selectedIndex = 0;
      }
    ]]>
  </fx:Script>
  <sp:ColorPicker id="myColorPicker"/>
  <comp:Markup>
    <comp:StyledCode text="{colorPicker}"/>
  </comp:Markup>

</view:DemoPane>